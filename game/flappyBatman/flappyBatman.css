/*===== Parallax =====*/

/*Pausa todas las animaciones*/
body.paused .layer,
body.paused .propulsores-low,
body.paused .propulsores-high,
body.paused .cohete-enemigo, 
body.paused .disparo, 
body.paused #contenier-enemigos {
  animation-play-state: paused;
}

.hidden {
  display: none;
}

/*========= Ejecucion del juego ==========*/

.game-container {
  width: 2880px;
  height: 1800px;
  position: relative;
  margin: 0 auto;
  overflow: hidden;
}

#game-execution {
  overflow-x: hidden;
  overflow-y: hidden;
  width: 2880px;
  height: 1800px;
  margin-left: auto;
  margin-right: auto;
  position: relative;
  align-content: center;
  align-items: center;
  justify-content: center;
}

@keyframes parallax{
  0% {background-position-x: 0px;}
  100% {background-position-x: -2880px;}
}

.layer {
  position: absolute;
  background-repeat: repeat-x;
  background-size: cover;
  background-position: bottom;
  width: 100%;
  height: 100%;
  top: 0;
  left: 0;
}

.layer7 {
  background-image: url("./assetpack/parallax/forest/forest_sky.png"); /*Mide 1900x1200*/
  animation: parallax 27s infinite linear running;
  background-position-y: -80px;
}

.layer6 {
  background-image: url("./assetpack/parallax/forest/forest_moon.png");
}

.layer5 {
  background-image: url("./assetpack/parallax/forest/forest_mountain.png"); /*Mide 3800x2400*/
  animation: parallax 22.5s infinite linear;
  background-position-y: -100px;
}

.layer4 {
  background-image: url("./assetpack/parallax/forest/forest_back.png"); /*Mide 3800x2400*/
  animation: parallax 15s infinite linear;
  background-position-y: -100px;
}

.layer3 {  
  background-image: url("./assetpack/parallax/forest/forest_mid.png"); /*Mide 3800x2400*/
  animation: parallax 10.5s infinite linear;
  background-position-y: -120px;
}

.layer2 {
  background-image: url("./assetpack/parallax/forest/forest_short.png"); /*Mide 3800x2400*/
  animation: parallax 7.5s infinite linear;
  background-position-y: -200px ;
}

.layer1 {  
  background-image: url("./assetpack/parallax/forest/forest_short.png"); /*Mide 3800x2400*/
  animation: parallax 6s infinite linear;
  background-position-y: -130px;
}

/*========== Sprite Nave ==========*/

#spaceship {
  background-image: url("./assetpack/ship/spaceship.png");
  height: 110px;
  width: 282px;
  position: absolute;
  left: 30px;
  top: 250px;
}

.propulsores-low {
  background-image: url("./assetpack/ship/sprite_player_spaceship_exhaust_low.png");
  height: 32px;
  width: 64px;
  position: absolute;
  animation: propulsores-animation 1s steps(2) infinite;
  left: -23px;
  top: 312px;
}

.propulsores-high {
  background-image: url("./assetpack/ship/sprite_player_spaceship_exhaust_high.png");
  height: 32px;
  width: 64px;
  position: absolute;
  animation: propulsores-animation 1s steps(2) forwards;
  left: -23px;
  top: 312px;
}

@keyframes propulsores-animation {
  0% {background-position: 0px;}
  100% {background-position: -128px;}
}

/*========== Sprite Cohete enemigo dentro de las tuberias ========== */

.cohete-enemigo {
  position: absolute;
  height: 168px;
  width: 353px;
  background-image: url("./assetpack/enemies/cohete.png");
  animation: cohete-animation 1s steps(4) infinite;
}

@keyframes cohete-animation {
  0%{background-position: 0px;}
  100%{background-position: -1412px;}
}

/*========== Sprite Explosion ========== */

.explosion {
  background-image: url("./assetpack/explosion.png");
  height: 300px; 
  width: 400px; 
  animation: explosion-animation 1s steps(7) 1 forwards;
  position: absolute;
  z-index: 10;
}

@keyframes explosion-animation {
  0% { background-position: 0px; }
  100% { background-position: -2800px; }
}

/*========== Sprite Moneda ========== */

.coin {
  position: absolute;
  height: 172px;
  width: 200px;
  background-image: url("./assetpack/coin.png");
  animation: spin-coin 1s steps(6) infinite,
             float-coin 2s ease-in-out infinite;

}

@keyframes spin-coin {
  0% {background-position: 0px;}
  100% {background-position-x: -1200px;}
}

@keyframes float-coin {
  0% { transform: translateY(0px);}
  50% { transform: translateY(-10px);}
  100% { transform: translateY(0px);}
}

/*========== Sprite Disparo ========== */

.disparo {
  pointer-events: none;
  position: absolute;
  height: 92px;
  width: 211px;
  background-image: url("./assetpack/ship/disparo.png");
  animation: disparo-animation 0.3s steps(2) infinite;
}

@keyframes disparo-animation {
  0% {background-position-x: 0px;}
  100% { background-position-x: -422px;}
}

/*========== Tuberias ==========*/

#conteiner-tuberias {
  position: absolute;
  height: 100%;
  width: 100%;
  pointer-events: none;
}

.tuberia {
  background-position-x: center;
  position: absolute;
  width: 300px;
  background-image: url("./assetpack/tuberia.png");
  /* No repetir la imagen; estirarla para cubrir la altura asignada por JS. */
  background-repeat: no-repeat;
  background-size: 100% 100%;
}

.tuberia.arriba {
  background-position-y:bottom;
}

.tuberia.abajo {
  bottom: 0;
  background-position-y:bottom;
  transform: scaleY(-1);
}

.par-tuberias {
  position: absolute;
  height: 100%;
}

/*==========  Div derrota ========== */

.div-derrota {
  position: absolute;
  top: 50%;
  left: 50%;
  transform: translate(-50%, -50%);
  z-index: 100;
  display: flex;
  flex-direction: column;
  padding: 20px;
  background-color: rgb(41, 40, 40);
  border-radius: 10px;
  border: 2px solid #26ee00;
  gap: 10px;
  color: white;
  text-align: center;
  font-family: 'JetBrains Mono', monospace;
}

.div-derrota button {
  color: white;
  font-size: 16px;
  padding: 10px;
  border-radius: 5px;
  transition: 0.3s ease;
}

.div-derrota button:hover {
  color: black;
  background-color: #27d205;
  font-size: 16px;
  padding: 10px;
  border-radius: 5px;
}

/*==========  Div victoria ========== */

.div-victoria {
  position: absolute;
  z-index: 100;
  top: 50%;
  left: 50%;
  transform: translate(-50%, -50%);
  display: flex;
  flex-direction: column;
  padding: 20px;
  background-color: rgba(41, 40, 40, 0.95);
  border-radius: 10px;
  border: 2px solid gold;
  gap: 15px;
  color: white;
  text-align: center;
  font-family: 'JetBrains Mono', monospace;
}

.div-victoria h2 {
  color: gold;
  margin: 0;
  font-size: 28px;
}

.div-victoria p {
  margin: 0;
  font-size: 18px;
}

.div-victoria button {
  background: linear-gradient(45deg, #ffd700, #ffed4e);
  color: black;
  font-size: 16px;
  padding: 10px 20px;
  border: none;
  border-radius: 5px;
  cursor: pointer;
  font-weight: bold;
  transition: transform 0.2s;
}

.div-victoria button:hover {
  transform: scale(1.05);
}

/*==========  Div mensaje inicio ========== */

.div-mensaje-inicio {
  position: absolute;
  top: 50%;
  left: 50%;
  transform: translate(-50%, -50%);
  background: rgba(0, 0, 0, 0.8);
  color: white;
  padding: 20px 40px;
  border-radius: 10px;
  font-size: 24px;
  font-weight: bold;
  z-index: 1000;
  text-align: center;
  border: 2px solid #26ee00;
  font-family: 'JetBrains Mono', monospace;
  pointer-events: none;
}

/*==========  Div contador monedas ========== */

.div-monedas {
  display: flex;
  flex-direction: row;
  height: 80px;
  width: 200px;
  position: absolute;
  top: 20px;
  left: 20px;
  z-index: 10;
  gap: 10px;
}

.div-monedas .coin-counter {
  height: 60px;
  width: 60px;
  border: 2px solid gold;
  border-radius: 50%;
  opacity: 0.3;
  transition: opacity 0.3s ease;

}

.div-monedas .coin-counter.activa {
    background: gold;
    opacity: 1;
    border: 2px solid #000;
    box-shadow: 0 0 10px gold;
}
